<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index.css">
    <script src="https://kit.fontawesome.com/97b584e9f9.js" crossorigin="anonymous"></script>
    <script src="index.js"></script>
</head>
<body>
    
    <div class="container">
        <img src="casual-life-3d-girl-with-tablet-and-working-process-on-desktop.png" class="side_image">    
        <div class="login_form">
            <form class="user_details" id="user_details" hidden>
                <H1 class="head_inner">WELCOME</H1>
                <h2 class="head">TO CHECK-TODO</h2>
                <h2 class="frorm_header">Register</h2>

            <!-- The sign in part -->
             <h3>First Name</h3>
             <input type="text" placeholder="First Name" class="input">
             <br>
             
             <h3>Last Name</h3>
             <input type="text" placeholder="Last Name" class="input">
             <br>
             
             <h3>Email</h3>
             <input type="email" placeholder="name@gmail.com" class="input">
             <br>
             
             <h3>Password</h3>
             <input type="password" placeholder="**********" class="input">
             <br>
             
             <h3>Confirm Password</h3>
             <input type="password" placeholder="***********" class="input">
             <br>
             
             <h5 class="login_statment">Already have an Account...? Login <i class="fa fa-arrow-down" aria-hidden="true"></i> </h5>
             
            </form>
            <button class="CREATE" onclick="show_Reg_form()" id="CREATE">REGISTER</button>
             <button class="LOGIN_BTN" onclick="show_login_form()" id="LOGIN_BTN">LOGIN</button>
        </div>

        <!-- The login aspect -->
        <form class="user_logins" id="user_logins" hidden>
            <H1 class="head_inner_LOGIN">WELCOME BACK</H1>
            <h2 class="head_LOGIN">TO CHECK-TODO</h2>
            <h2 class="frorm_header_LOGIN" >LOGIN</h2>
            <h3>Email</h3>
         <input type="email" placeholder="name@gmail.com" class="input" id="loginEmail">
         <br>
         <br>
         <h3>Password</h3>
         <input type="password" placeholder="**********" class="input" id="loginPassword">
         <br>
         <br>
         <button class="LOGIN_BTN_final" id="loginBtn">LOGIN</button>
        </form>     

    </div>
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
   import {getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-auth.js"
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyC3JoaZZHH4e-ExdqXhsApF0xphJWbSclQ",
      authDomain: "group-project-1a0cd.firebaseapp.com",
      projectId: "group-project-1a0cd",
      storageBucket: "group-project-1a0cd.appspot.com",
      messagingSenderId: "673791177728",
      appId: "1:673791177728:web:5ff8bbee1def47ba9294e5"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);

    const auth = getAuth(app);
    console.log(app);

    

    //----- New Registration code start	  
    // document.getElementById("register").addEventListener("click", function() {
    //     var email =  document.getElementById("email").value;
    //     var password = document.getElementById("password").value;
    //     //For new registration
    //     createUserWithEmailAndPassword(auth, email, password)
    //     .then((userCredential) => {
    //       // Signed in 
    //       const user = userCredential.user;
    //       console.log(user);
    //       alert("Registration successfully!!");
    //       // ...
    //     })
    //     .catch((error) => {
    //       const errorCode = error.code;
    //       const errorMessage = error.message;
    //       // ..
    //       console.log(errorMessage);
    //       alert(error);
    //     });		  		  
    // });
    //----- End

    //----- Login code start	  
    document.getElementById("loginBtn").addEventListener("click", function() {
        var email =  document.getElementById("loginEmail").value;
        var password = document.getElementById("loginPassword").value;

        signInWithEmailAndPassword(auth, email, password)
        .then((userCredential) => {
          // Signed in 
          const user = userCredential.user;
          console.log(user);
          alert(user.email+" Login successfully!!!");
          document.getElementById('logout').style.display = 'block';
          // ...
        })
        .catch((error) => {
          const errorCode = error.code;
          const errorMessage = error.message;
          console.log(errorMessage);
          alert(errorMessage);
        });		  		  
    });
    //----- End

    //----- Logout code start	  
    // document.getElementById("logout").addEventListener("click", function() {
    //     signOut(auth).then(() => {
    //         // Sign-out successful.
    //         console.log('Sign-out successful.');
    //         alert('Sign-out successful.');
    //         document.getElementById('logout').style.display = 'none';
    //       }).catch((error) => {
    //         // An error happened.
    //         console.log('An error happened.');
    //       });		  		  
    // });
    //----- End

  </script>
</html>